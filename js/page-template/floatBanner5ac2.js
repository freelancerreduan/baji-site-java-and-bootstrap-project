"undefined"===typeof FloatBannerHandler&&(FloatBannerHandler={});
(function(){function f(d,a){let c=$("#floatBannerContainer"),b=$("#floatPop");const e=d?a.h5Content:a.webContent;b.find("#floatBannerDetailTitle").prepend(`<h3>${a.title}</h3>`);b.find("#floatBannerDetailContent").html(e);if(a.startDate&&a.endDate){let c=d?`<div class="times">${a.startDate} ${PageConfig.dateTo} ${a.endDate} ${PageConfig.endTill}</div>`:`<p class="time">${a.startDate} ${PageConfig.dateTo} ${a.endDate} ${PageConfig.endTill}</p>`;b.find("#floatBannerDetailContent").prepend(c)}c.find("a.float-banner-promotion").click(function(){if(a.contentType===
MessageContentType.LINK.value){const b=e.replace("<p>","").replace("</p>","");window.open(b,"_blank")}else d?($(".pop-bg").fadeIn(),b.addClass("show"),setTimeout(function(){b.addClass("Ani")},5),$(".pop-bg, #floatPop > .btn-close").click(function(){$(".pop-bg").fadeOut();b.removeClass("Ani");setTimeout(function(){b.removeClass("show")},500)})):$(".pop-bg").fadeIn(500,function(){b.addClass("active");$("body").addClass("no-scroll-y")})});a.contentType===MessageContentType.TEXT.value&&$("#floatPop > .detail-banner > .btn-close, #floatBannerDetailTitle > .btn-default-radius").click(function(a){$("body").removeClass("no-scroll-y");
b.addClass("hide");setTimeout(function(){b.removeClass("hide").removeClass("active")},500);$(".pop-bg").fadeOut();console.log("click");$(a.target).data("pagetype")&&!PageConfig.isLogin&&$("#header-login").click()});c.find("#closeFloatBanner").click(function(){c.fadeOut()})}FloatBannerHandler.initFloatBanner=function(d){getDataByAjax(PageConfig.isLogin?"/player/getMessagesByType?rnd=":"/guest/getMessagesByType?rnd=",function(a){if(0!==a.length){var c=$("#floatBannerContainer");c.length&&(a=a.filter(b=>
0===b.displayOrder).map(b=>{b.id="footerFloatBanner-"+b.id;b.image=PageConfig.uploadImageUrl+(d?"/upload/footerH5FloatBanner/"+b.imageH5SliderPath:"/upload/footerFloatBanner/"+b.imageSliderPath);return b}).reduce(function(b,a){return Date.parse(b.updateTime)>Date.parse(a.updateTime)?b:a}),TemplateUtil.autoBindListData([a],"#floatBannerTemplate","#floatBannerContainer"),DataImageUtils.setBackground(c),a.contentType===MessageContentType.TEXT.value&&(c=PageConfig.uploadImageUrl+"/upload/footerFloatSubBanner/"+
a.imageBannerPath,$("#floatBannerPop").prop("src",c)),f(d,a))}},{messageType:MessageType.FOOTER_FLOAT_BANNER.value})}})();

